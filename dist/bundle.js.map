{"version":3,"file":"bundle.js","mappings":"6LAOMA,EAAAA,WACJ,WAAYC,EAAWC,EAAOC,I,4FAAM,SAClCC,KAAKH,UAAYA,EACjBG,KAAKF,MAAQA,EACbE,KAAKD,KAAOA,CACb,C,iDAED,WACE,IAAIE,EAAcD,KAAKD,KAAO,IAAM,GACpC,OACGC,KAAKH,UAAYI,GACjB,EAAIC,KAAKC,IAAI,GAAK,EAAIF,GAA2B,GAAbD,KAAKF,OAE7C,G,wBAED,WAKE,IAJA,IAAIM,EAAiBJ,KAAKI,eACtBH,EAAcD,KAAKD,KAAO,IAAM,GAChCM,EAAUL,KAAKH,UACfS,EAAe,GACVC,EAAI,EAAGA,EAAIP,KAAKF,MAAOS,IAAK,CAGnC,IAFA,IAAIC,EAAY,EACZC,EAAa,EACRC,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAC3B,IAAIC,EAAYN,EAAUJ,EACtBW,EAAaR,EAAiBO,EAClCH,GAAwBG,EACxBF,GAA0BG,EAC1BP,GAAoBO,CACrB,CACDN,EAAaO,KAAK,CAAEJ,WAAAA,EAAYD,UAAAA,EAAWH,QAAAA,GAC5C,CACD,OAAOC,CACR,M,sEAjCGV,GAoCNkB,SAASC,eAAe,WAAWC,iBAAiB,SAAS,WAC3D,IAAInB,EAAYiB,SAASC,eAAe,aAAaE,MACjDnB,EAAQgB,SAASC,eAAe,SAASE,MACzClB,EAAOe,SAASC,eAAe,QAAQE,MACvCC,EAAW,IAAItB,EAASC,EAAWC,EAAOC,GAC9Ce,SAASC,eAAe,kBAAkBI,UACxCD,EAASd,eAAegB,QAAQ,GAClCN,SAASC,eAAe,eAAeI,WAAapB,EAAO,IAAIqB,QAAQ,GACvE,IAAIC,EAAO,GACXH,EAASZ,aAAagB,SACpB,SAACC,EAAMC,GAAP,OACGH,GAAQ,mCAAJ,OAEOG,EAAQ,EAFf,mDAGwBtB,KAAKuB,MAAMF,EAAKd,YAHxC,6KAO4Bc,EAAKd,WAPjC,yBAQHc,EAAKd,WARF,+HAY4Bc,EAAKf,UAZjC,yBAaHe,EAAKf,UAbF,4HAkB6BN,KAAKuB,MAAMF,EAAKf,WAlB7C,mDAmBwBN,KAAKuB,MAAMF,EAAKlB,SAnBxC,6BADP,IAwBFS,SAASC,eAAe,gBAAgBI,UAAYE,CACrD,G","sources":["webpack://assignment-6.5/./src/index.js"],"sourcesContent":["import \"./styles.scss\";\r\nimport \"./background.scss\";\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  console.log('Looks like we are in development mode!');\r\n}\r\n\r\nclass Mortgage {\r\n  constructor(principal, years, rate) {\r\n    this.principal = principal;\r\n    this.years = years;\r\n    this.rate = rate;\r\n  }\r\n\r\n  get monthlyPayment() {\r\n    let monthlyRate = this.rate / 100 / 12;\r\n    return (\r\n      (this.principal * monthlyRate) /\r\n      (1 - Math.pow(1 / (1 + monthlyRate), this.years * 12))\r\n    );\r\n  }\r\n\r\n  get amortization() {\r\n    let monthlyPayment = this.monthlyPayment;\r\n    let monthlyRate = this.rate / 100 / 12;\r\n    let balance = this.principal;\r\n    let amortization = [];\r\n    for (let y = 0; y < this.years; y++) {\r\n      let interestY = 0;\r\n      let principalY = 0;\r\n      for (let m = 0; m < 12; m++) {\r\n        let interestM = balance * monthlyRate;\r\n        let principalM = monthlyPayment - interestM;\r\n        interestY = interestY + interestM;\r\n        principalY = principalY + principalM;\r\n        balance = balance - principalM;\r\n      }\r\n      amortization.push({ principalY, interestY, balance });\r\n    }\r\n    return amortization;\r\n  }\r\n}\r\n\r\ndocument.getElementById(\"calcBtn\").addEventListener(\"click\", () => {\r\n  let principal = document.getElementById(\"principal\").value;\r\n  let years = document.getElementById(\"years\").value;\r\n  let rate = document.getElementById(\"rate\").value;\r\n  let mortgage = new Mortgage(principal, years, rate);\r\n  document.getElementById(\"monthlyPayment\").innerHTML =\r\n    mortgage.monthlyPayment.toFixed(2);\r\n  document.getElementById(\"monthlyRate\").innerHTML = (rate / 12).toFixed(2);\r\n  let html = \"\";\r\n  mortgage.amortization.forEach(\r\n    (year, index) =>\r\n      (html += `\r\n        <tr>\r\n            <td>${index + 1}</td>\r\n            <td class=\"currency\">${Math.round(year.principalY)}</td>\r\n            <td class=\"stretch\">\r\n                <div class=\"flex\">\r\n                    <div class=\"bar principal\"\r\n                         style=\"flex:${year.principalY};-webkit-flex:${\r\n        year.principalY\r\n      }\">\r\n                    </div>\r\n                    <div class=\"bar interest\"\r\n                         style=\"flex:${year.interestY};-webkit-flex:${\r\n        year.interestY\r\n      }\">\r\n                    </div>\r\n                </div>\r\n            </td>\r\n            <td class=\"currency left\">${Math.round(year.interestY)}</td>\r\n            <td class=\"currency\">${Math.round(year.balance)}</td>\r\n        </tr>\r\n    `)\r\n  );\r\n  document.getElementById(\"amortization\").innerHTML = html;\r\n});\r\n"],"names":["Mortgage","principal","years","rate","this","monthlyRate","Math","pow","monthlyPayment","balance","amortization","y","interestY","principalY","m","interestM","principalM","push","document","getElementById","addEventListener","value","mortgage","innerHTML","toFixed","html","forEach","year","index","round"],"sourceRoot":""}